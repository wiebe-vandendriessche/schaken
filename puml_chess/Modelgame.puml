@startuml Model chessgame
skinparam classAttributeIconSize 0
class Board {
    +board:Apiece[][]
    -amountOfMoves:int
    +Board(alreadySetup:bool)
    -setupPieces():void
    +move(piece:Apiece,cord:Coordinate):bool
    +possibleMoves(piece:Apiece):Coordinate[]
    +colorToMove():bool
    +Clone():Board
    +IsEnd(color:bool):string
}
abstract class Apiece {
    +value:int
    +pos:Coordinate
    +color:bool
    +image:string 
    +Apiece(pos:Coordinate,value:int,color:bool,img:string)
    +possibleMoves(board:Board) {abstract}
    +move(cord:Coordinate) {abstract}
    +Clone():Apiece {abstract}

}

class Board_info{
    +heatmap:int[][]
}

class King{
    +King(pos:Coordinate,kleur:bool)
    -hasMoved:bool
    

}
class Queen{
    +Queen(pos:Coordinate,kleur:bool)
}
class Knight{
    +Knight(pos:Coordinate,kleur:bool)
}
class Bishop{
    +Bishop(pos:Coordinate,kleur:bool)
}
class Rook{
    -hasMoved:bool
    +Rook(pos:Coordinate,kleur:bool)
}
class Pawn{
    -end:int
-hasMoved:bool
    +Pawn(pos:Coordinate,kleur:bool)
}
class Bot{
    -color:bool
    -depth:int
    + Bot(color:bool,depth:int)
    -Eval(board:Board):double
    -minMaxalgo(board:Board, depth:int,color:bool):double
    +NextMove():Coordinate[]
}

class Coordinate{
    +x:double
    +y:double
    +Coordinate(x:double,y:double)
    +zetOm():string
}

class LegalChecker{
    +attackMapWhite:int[][]
    +attackMapBlack:int[][]
    +whiteKing:King
    +blackKing:King
    -possiblemoves:Coordinate[]
    +LegalChecker()
    - updateAttackMap(color:bool):void
    + IsChecked(color:bool): bool
    + possibleMoves(piece):Coordinate[]
    + IsCheckMate(color:bool):bool
    + IsStaleMate(color:bool):bool
}
note right : Seperation of concerns: \nchecking legal moves in \nLegalChecker instead of in Board


Apiece <|-left-King
Apiece <|--Queen
Apiece <|--Bishop
Apiece <|--Knight
Apiece <|-- Rook
Apiece <|-right-Pawn
Board o-- Apiece
Board <|-left- Board_info
Apiece -->Coordinate:has 
Board ..> Coordinate:uses
Bot .right.>Board_info:uses
Bot ..> Coordinate:uses
Board<-right->LegalChecker:has
LegalChecker..>Apiece:uses
Bot..>Apiece:uses

@enduml

